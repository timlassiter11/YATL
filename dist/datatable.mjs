var Jt=Object.defineProperty;var Wt=Object.getOwnPropertySymbols;var Yt=Object.prototype.hasOwnProperty,Qt=Object.prototype.propertyIsEnumerable;var $t=h=>{throw TypeError(h)};var Pt=(h,e,r)=>e in h?Jt(h,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):h[e]=r,K=(h,e)=>{for(var r in e||(e={}))Yt.call(e,r)&&Pt(h,r,e[r]);if(Wt)for(var r of Wt(e))Qt.call(e,r)&&Pt(h,r,e[r]);return h};var Rt=(h,e,r)=>e.has(h)||$t("Cannot "+r);var t=(h,e,r)=>(Rt(h,e,"read from private field"),r?r.call(h):e.get(h)),n=(h,e,r)=>e.has(h)?$t("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(h):e.set(h,r),a=(h,e,r,s)=>(Rt(h,e,"write to private field"),s?s.call(h,r):e.set(h,r),r),c=(h,e,r)=>(Rt(h,e,"access private method"),r);var At=(h,e,r,s)=>({set _(i){a(h,e,i,r)},get _(){return t(h,e,s)}});var ot,H,k,Y,N,W,nt,P,X,at,lt,dt,z,J,Zt,st=class st{constructor({container:e,element:r,generator:s,nodePadding:i=2}){n(this,z);n(this,H);n(this,k);n(this,Y);n(this,N,0);n(this,W,0);n(this,nt,2);n(this,P,0);n(this,X,!1);n(this,at,0);n(this,lt,()=>{t(this,H).scrollTop!==t(this,at)&&(a(this,at,t(this,H).scrollTop),t(this,P)&&cancelAnimationFrame(t(this,P)),a(this,P,requestAnimationFrame(()=>c(this,z,J).call(this))))});n(this,dt,()=>{c(this,z,J).call(this)});a(this,H,e),a(this,k,r),a(this,Y,s),a(this,nt,i)}get rowCount(){return t(this,N)}set rowCount(e){a(this,N,e),c(this,z,J).call(this)}get rowHeight(){return t(this,W)||c(this,z,Zt).call(this),t(this,W)}get started(){return t(this,X)}scrollTo(e){if(e<0||e>=t(this,N))throw new RangeError("Index out of bounds.");t(this,H).scrollTop=this.rowHeight*e,c(this,z,J).call(this)}start(){t(this,X)||(a(this,X,!0),t(this,H).addEventListener("scroll",t(this,lt)),window.addEventListener("resize",t(this,dt)),c(this,z,J).call(this))}stop(){t(this,P)&&cancelAnimationFrame(t(this,P)),t(this,H).removeEventListener("scroll",t(this,lt)),window.removeEventListener("resize",t(this,dt)),a(this,X,!1)}};ot=new WeakMap,H=new WeakMap,k=new WeakMap,Y=new WeakMap,N=new WeakMap,W=new WeakMap,nt=new WeakMap,P=new WeakMap,X=new WeakMap,at=new WeakMap,lt=new WeakMap,dt=new WeakMap,z=new WeakSet,J=function(){let e=t(this,H).scrollTop,r=this.rowCount,s=this.rowHeight,i=t(this,nt),o=s*r;t(this,k).innerHTML=`<tr style="height: ${o}px;"></tr>`;let u=t(this,k).offsetHeight,l=t(this,H).offsetHeight;if(!t(st,ot)&&u<Math.round(o-1)&&(a(st,ot,!0),console.error("Max element height exceeded. Virtual scroll may not work.")),!r||!s)return;let C=Math.floor(e/s)-i;C=Math.max(0,C);let p=Math.ceil(l/s)+2*i;p=Math.min(r-C,p);let g=C*s,E=o-(g+p*s);try{t(this,k).innerHTML="";let y=new Array(p).fill(null).map((Mt,f)=>t(this,Y).call(this,f+C)),I=document.createElement("tr"),rt=document.createElement("tr");I.style.height=g+"px",rt.style.height=E+"px",t(this,k).append(I),t(this,k).append(...y),t(this,k).append(rt)}catch(y){y instanceof RangeError&&console.log(y)}},Zt=function(){if(t(this,N)===0){a(this,W,0);return}let e=Math.min(1e3,t(this,N)),r=[];for(let s=0;s<e;++s)r.push(t(this,Y).call(this,s));if(t(this,k).innerHTML="",t(this,k).append(...r),a(this,W,t(this,k).offsetHeight/e),t(this,W)<=0)throw new it("First 1000 rows had no rendered height. Virtual scroll can't be used.");t(this,W)*t(this,N)>33554400&&console.warn("Virtual scroll height exceeded maximum known element height.")},n(st,ot,!1);var Et=st,it=class extends Error{constructor(e){super(e)}};var $=h=>{if(typeof h=="string"&&h!=="")return h.split(" ");if(Array.isArray(h))return h;if(!h)return[];throw new TypeError("classes must be string or array of strings")},zt=h=>h.replace(/_/g," ").replace(/([a-z])([A-Z])/g,"$1 $2").replace(/\b\w/g,e=>e.toUpperCase()),qt=h=>String(h).toLowerCase().replace(/[^\w\s]/g," ").trim().split(/\s+/);var b,V,L,jt,S,m,_,v,M,j,mt,tt,O,ft,et,gt,Ct,pt,R,F,d,yt,Vt,Xt,ht,Bt,kt,Q,ct,Gt,_t,ut,Lt,bt,wt,Tt,Dt,St,Ot,Ft,xt,Ht,D=class D{constructor(e,r={}){n(this,d);n(this,b);n(this,V);n(this,L);n(this,jt);n(this,S);n(this,m,{});n(this,_,[]);n(this,v,[]);n(this,M);n(this,j);n(this,mt);n(this,tt);n(this,O);n(this,ft);n(this,et);n(this,gt,0);n(this,Ct);n(this,pt);n(this,R);n(this,F,null);n(this,Lt,e=>{e.preventDefault(),e.stopPropagation();let s=e.target.closest("th");if(!s)return;let i=s.dataset.dtField;if(!i)return;let o=t(this,m)[i];o&&(a(this,F,o),o.resizeStartX=e.clientX,o.resizeStartWidth=s.offsetWidth,document.addEventListener("mousemove",t(this,bt)),document.addEventListener("mouseup",t(this,wt)))});n(this,bt,e=>{if(!t(this,F))return;e.preventDefault();let r=t(this,F).resizeStartWidth+(e.clientX-t(this,F).resizeStartX);t(this,F).element.style.width=`${r}px`});n(this,wt,e=>{t(this,F)&&(document.removeEventListener("mousemove",t(this,bt)),document.removeEventListener("mouseup",t(this,wt)),t(this,b).dispatchEvent(new CustomEvent(D.Events.COL_RESIZE,{detail:{column:t(this,F),width:t(this,F).element.offsetWidth},bubbles:!0,cancelable:!0})),a(this,F,null))});n(this,Tt,e=>{let s=e.target.closest("th");s&&(s.style.width="0px")});n(this,Dt,e=>{let s=e.target.dataset.dtField;e.dataTransfer&&s&&(e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",s))});n(this,St,e=>(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="move"),!1));n(this,Ot,e=>{e.target.classList.add("dt-drag-over")});n(this,Ft,e=>{e.target.classList.remove("dt-drag-over")});n(this,xt,e=>{var C;let r=(C=e.dataTransfer)==null?void 0:C.getData("text/plain"),i=e.currentTarget.dataset.dtField;if(!r||!i)return;e.preventDefault(),e.stopPropagation();let o=Object.values(t(this,m)),u=o.findIndex(p=>p.field===r),l=o.findIndex(p=>p.field===i);if(u>-1&&l>-1){let[p]=o.splice(u,1),g=t(this,m)[i];l===o.length&&(g.element.style.width=g.element.offsetWidth+"px",p.element.style.width=""),o.splice(l,0,p),a(this,m,Object.fromEntries(o.map(E=>[E.field,E]))),c(this,d,Q).call(this),c(this,d,ct).call(this),t(this,b).dispatchEvent(new CustomEvent(D.Events.COL_REARRANGE,{detail:{draggedColumn:p,dropColumn:t(this,m)[i],columns:o},bubbles:!0,cancelable:!0}))}});n(this,Ht,e=>{let r=document.querySelectorAll(".dt-drag-over");for(let s of r)s.classList.remove("dt-drag-over")});var C,p,g,E,y,I,rt,Mt;let s=K(K({columns:[],data:[]},D.DEFAULT_OPTIONS),r);if(typeof e=="string"){let f=document.querySelector(e);if(!f)throw new SyntaxError(`Failed to find table using selector ${e}`);a(this,b,f)}else a(this,b,e);if(!(t(this,b)instanceof HTMLTableElement))throw new TypeError("Invalid table element type. Must be HTMLTableElement");if(!Array.isArray(s.columns))throw new TypeError("columns must be a list of columns");a(this,et,s.tokenizer),a(this,ft,s.highlightSearch),a(this,mt,s.extraSearchFields),a(this,Ct,s.noDataText),a(this,pt,s.noMatchText),a(this,R,s.classes),a(this,tt,s.rowFormatter),t(this,b).classList.add("data-table"),a(this,S,document.createElement("div")),t(this,S).classList.add(...$(t(this,R).scroller)),t(this,S).style.overflow="auto",t(this,S).style.height="100%",t(this,b).style.height!==""&&(t(this,S).style.height=t(this,b).style.height,t(this,b).style.height=""),(C=t(this,b).parentElement)==null||C.insertBefore(t(this,S),t(this,b)),t(this,S).append(t(this,b)),t(this,b).querySelectorAll("thead").length>1&&console.warn("Multiple theads found in table. Using last one."),t(this,b).querySelectorAll("tbody").length>1&&console.warn("Multiple tbodys found in table. Using first one.");let i=t(this,b).querySelector("thead:last-of-type");i?a(this,V,i):(a(this,V,document.createElement("thead")),t(this,b).insertBefore(t(this,V),t(this,b).firstChild)),t(this,V).classList.add(...$(t(this,R).thead));let o=t(this,V).querySelector("tr:last-of-type");o||(o=document.createElement("tr"),t(this,V).append(o)),o.classList.add(...$(t(this,R).tr)),o.innerHTML="";let u=t(this,b).querySelector("tbody:first-of-type");u?a(this,L,u):(a(this,L,document.createElement("tbody")),t(this,b).append(t(this,L))),t(this,L).classList.add(...$(t(this,R).tbody)),t(this,L).addEventListener("click",f=>{let x,w,U;if(f.target instanceof HTMLTableCellElement?(w=f.target,x=w.parentElement,U=w.dataset.dtField):f.target instanceof HTMLTableRowElement&&(x=f.target),x){let A=parseInt(x.dataset.dtIndex||"");if(!isNaN(A)){let It=t(this,v)[A],vt=new CustomEvent(D.Events.ROW_CLICK,{detail:{row:It,index:A,field:U},bubbles:!0,cancelable:!0});x.dispatchEvent(vt)}}});let l=!1;for(let f of s.columns){let x={field:f.field,title:f.title||zt(f.field),element:document.createElement("th"),visible:(p=f.visible)!=null?p:!0,sortable:(g=f.sortable)!=null?g:s.sortable,searchable:(E=f.searchable)!=null?E:s.searchable,tokenize:(y=f.tokenize)!=null?y:s.tokenize,sortOrder:(I=f.sortOrder)!=null?I:null,sortPriority:(rt=f.sortPriority)!=null?rt:0,resizeStartWidth:null,resizeStartX:null,valueFormatter:f.valueFormatter,elementFormatter:f.elementFormatter,comparatorCallback:f.sorter,filterCallback:f.filter,sortValueCallback:f.sortValue};t(this,m)[f.field]=x;let w=x.element;w.classList.add(...$(t(this,R).th)),w.dataset.dtField=f.field;let U=document.createElement("div");if(U.classList.add("dt-header-name"),U.innerText=f.title||zt(f.field),w.innerHTML="",w.append(U),w.hidden=!x.visible,o.append(w),x.visible&&(l=!0),x.sortable&&(w.classList.add("dt-sortable"),U.addEventListener("click",A=>{var Nt;let vt=(Nt=A.target.closest("th"))==null?void 0:Nt.dataset.dtField;if(!vt)return;let G=t(this,m)[vt];G.sortOrder?G.sortOrder==="asc"?this.sort(G.field,"desc"):G.sortOrder&&this.sort(G.field,null):this.sort(G.field,"asc")})),(Mt=f.resizable)!=null?Mt:s.resizable){let A=document.createElement("div");A.classList.add("dt-resizer"),A.addEventListener("mousedown",t(this,Lt)),A.addEventListener("dblclick",t(this,Tt)),w.append(A)}typeof f.width=="number"?w.style.width=f.width+"px":typeof f.width=="string"&&(w.style.width=f.width),s.rearrangeable&&(w.draggable=!0,w.addEventListener("dragstart",t(this,Dt)),w.addEventListener("dragenter",t(this,Ot)),w.addEventListener("dragover",t(this,St)),w.addEventListener("dragleave",t(this,Ft)),w.addEventListener("drop",t(this,xt)),w.addEventListener("dragend",t(this,Ht)))}Object.keys(t(this,m)).length===0?console.warn("No columns found. At least one column is required."):l||(console.warn("At least a single column must be visible. Showing the first column."),this.showColumn(Object.keys(t(this,m))[0])),this.virtualScroll=s.virtualScroll,this.loadData(s.data)}get columnStates(){return Object.values(t(this,m)).map(e=>({field:e.field,title:e.title,visible:e.visible,sortOrder:e.sortOrder,sortPriority:e.sortPriority,width:e.element.style.width}))}set columnStates(e){var r,s,i,o;for(let u of e){let l=t(this,m)[u.field];if(!l){console.warn(`Attempting to restore state for non-existent column ${u.field}`);continue}l.visible=(r=u.visible)!=null?r:l.visible,l.sortOrder=(s=u.sortOrder)!=null?s:l.sortOrder,l.sortPriority=(i=u.sortPriority)!=null?i:l.sortPriority,l.element.style.width=(o=u.width)!=null?o:l.element.style.width}this.refresh()}get rows(){return t(this,v)}get length(){return t(this,v)?t(this,v).length:0}get table(){return t(this,b)}get virtualScroll(){return!!t(this,O)}set virtualScroll(e){var r;e!=this.virtualScroll&&(e?(a(this,O,new Et({container:t(this,S),element:t(this,L),generator:s=>c(this,d,_t).call(this,s)})),t(this,O).start()):((r=t(this,O))==null||r.stop(),a(this,O,void 0)),c(this,d,ct).call(this))}loadData(e){if(Array.isArray(e)&&e.length>0){let r=0;a(this,_,e),a(this,v,t(this,_));for(let s of t(this,_)){let i={index:r++,tokens:{},sortValues:{}};s._metadata=i;for(let o of Object.keys(t(this,m))){let u=t(this,m)[o],l=c(this,d,ut).call(this,s,o);typeof u.sortValueCallback=="function"?i.sortValues[o]=u.sortValueCallback(l):typeof l=="string"?i.sortValues[o]=l.toLocaleLowerCase():i.sortValues[o]=l,u.searchable&&u.tokenize&&l&&(i.tokens[o]=[l,...t(this,et).call(this,l)])}}}else a(this,_,[]),a(this,v,[]);c(this,d,Q).call(this),c(this,d,ht).call(this)}showMessage(e,r){Array.isArray(r)?r=r.join(" "):typeof r!="string"&&(r="");let s=Object.keys(t(this,m)).length;t(this,L).innerHTML=`<tr class="${r}"><td colSpan=${s}>${e}</td></tr>`}search(e){a(this,M,e!==""?e:null),c(this,d,ht).call(this)}filter(e){if(typeof e!="object"&&typeof e!="function")throw new TypeError("filters must be object or function");a(this,j,e),c(this,d,ht).call(this)}sort(e,r){let s=t(this,m)[e];if(!s){console.warn(`Attempting to sort non-existent column ${e}`);return}r!=s.sortOrder&&(r==="asc"||r==="desc"?s.sortPriority===Number.MAX_VALUE&&(s.sortPriority=At(this,gt)._++):(s.sortPriority=Number.MAX_VALUE,At(this,gt)._--),s.sortOrder=r),c(this,d,Q).call(this),c(this,d,kt).call(this);let i=new CustomEvent(D.Events.COL_SORT,{detail:{column:s,order:s.sortOrder},bubbles:!0,cancelable:!0});t(this,b).dispatchEvent(i)}setColumnVisibility(e,r){let s=t(this,m)[e];if(!s){console.warn(`Attempting to ${r?"show":"hide"} non-existent column ${e}`);return}s.visible=r,c(this,d,Q).call(this),c(this,d,kt).call(this);let i=r?D.Events.COL_SHOW:D.Events.COL_HIDE,o=new CustomEvent(i,{detail:{column:s,visible:r},bubbles:!0,cancelable:!0});t(this,b).dispatchEvent(o)}showColumn(e){this.setColumnVisibility(e,!0)}hideColumn(e){this.setColumnVisibility(e,!1)}export(e,r=!1){let s=r?t(this,_):t(this,v);if(s.length===0)return;let i=Object.keys(s[0]).filter(p=>p in t(this,m)?r?!0:t(this,m)[p].element.hidden===!1:!1),o=s.map(p=>{let g=[];for(let[E,y]of Object.entries(p))if(E in t(this,m)){let I=t(this,m)[E];(r||!I.element.hidden)&&(typeof I.valueFormatter=="function"&&(y=I.valueFormatter(y,p)),y=String(y).replace('"','""'),g.push(`"${y}"`))}return g.join(",")}).join(`
`),u=i+`
`+o,l=new Blob([u],{type:"text/csv;charset=utf-8,"}),C=document.createElement("a");C.style.display="none",C.href=URL.createObjectURL(l),C.download=`${e}.csv`,document.body.append(C),C.click(),C.remove()}scrollTo(e){t(this,O)&&t(this,O).scrollTo(e);let r=t(this,L).querySelector(`tr[data-dt-index="${e}"]`);if(r){r.scrollIntoView(!0);let s=parseFloat(getComputedStyle(t(this,V)).height);t(this,S).scrollTop-=s}}setColumnOrder(e){if(!Array.isArray(e))throw new TypeError("fields must be an array of field names");let r=e.map(s=>t(this,m)[s]).filter(s=>s!==null);a(this,m,Object.fromEntries(r.map(s=>[s.field,s]))),this.refresh()}refresh(){c(this,d,Q).call(this),c(this,d,ht).call(this)}};b=new WeakMap,V=new WeakMap,L=new WeakMap,jt=new WeakMap,S=new WeakMap,m=new WeakMap,_=new WeakMap,v=new WeakMap,M=new WeakMap,j=new WeakMap,mt=new WeakMap,tt=new WeakMap,O=new WeakMap,ft=new WeakMap,et=new WeakMap,gt=new WeakMap,Ct=new WeakMap,pt=new WeakMap,R=new WeakMap,F=new WeakMap,d=new WeakSet,yt=function(e,r){return Array.isArray(e)?e.some(s=>c(this,d,yt).call(this,s,r)):r instanceof RegExp?r.test(String(e)):String(e).toLocaleLowerCase().includes(r)},Vt=function(e,r,s){if(Array.isArray(r)){for(let i of r)if(c(this,d,Vt).call(this,e,i))return!0;return!1}return typeof s=="function"?s(e,r):r instanceof RegExp?r.test(String(e)):r===e},Xt=function(e,r){if(typeof t(this,j)=="function")return t(this,j).call(this,e,r);for(let s of Object.keys(t(this,j)||{})){let i=t(this,j)[s],o=t(this,m)[s],u=o?o.filterCallback:void 0,l=c(this,d,ut).call(this,e,s);if(!c(this,d,Vt).call(this,l,i,u))return!1}return!0},ht=function(){let e=typeof t(this,j)=="function"?t(this,j):(i,o)=>c(this,d,Xt).call(this,i,o),r=null,s=[];t(this,M)instanceof RegExp?(r=t(this,M),s=[r]):typeof t(this,M)=="string"&&(r=t(this,M).toLocaleLowerCase(),s=t(this,et).call(this,r)),a(this,v,t(this,_).filter((i,o)=>{if(i._metadata.searchScore=0,!e(i,o))return!1;if(!r)return!0;let l=[...Object.values(t(this,m)).filter(C=>C.searchable).map(C=>C.field),...t(this,mt)];for(let C of l)if(t(this,m)[C]&&C in i._metadata.tokens){let g=i._metadata.tokens[C];for(let E of s)c(this,d,yt).call(this,g,E)&&(typeof E=="string"?i._metadata.searchScore+=E.length:i._metadata.searchScore++)}else{let g=c(this,d,ut).call(this,i,C);c(this,d,yt).call(this,g,r)&&(typeof r=="string"?i._metadata.searchScore+=r.length:i._metadata.searchScore++)}return i._metadata.searchScore>0})),c(this,d,kt).call(this),c(this,d,ct).call(this),t(this,b).dispatchEvent(new CustomEvent(D.Events.ROWS_CHANGED,{bubbles:!0,cancelable:!0}))},Bt=function(e,r,s){let i,o;if(s.sortOrder==="asc"?(i=e._metadata.sortValues[s.field],o=r._metadata.sortValues[s.field]):s.sortOrder==="desc"&&(i=r._metadata.sortValues[s.field],o=e._metadata.sortValues[s.field]),typeof s.sorter=="function"){let u=s.sorter(i,o);if(u!==0)return u}return i<o?-1:i>o?1:0},kt=function(){let e=Object.values(t(this,m)).filter(r=>!r.element.hidden&&r.sortOrder).sort((r,s)=>r.sortPriority-s.sortPriority);t(this,v).sort((r,s)=>{let i=r._metadata.searchScore||0,o=s._metadata.searchScore||0;if(i>o)return-1;if(i<o)return 1;for(let u of e){let l=c(this,d,Bt).call(this,r,s,u);if(l!==0)return l}return r._metadata.index-s._metadata.index}),c(this,d,ct).call(this)},Q=function(){var r,s,i,o,u,l,C;for(let p of Object.keys(t(this,m))){let g=t(this,m)[p];(r=g.element.parentElement)==null||r.append(g.element),g.element.hidden=!g.visible,g.element.style.width===""&&(g.element.style.width=g.element.offsetWidth+"px"),g.sortOrder==="asc"?((s=g.element)==null||s.classList.add("dt-ascending"),(i=g.element)==null||i.classList.remove("dt-descending")):g.sortOrder==="desc"?((o=g.element)==null||o.classList.add("dt-descending"),(u=g.element)==null||u.classList.remove("dt-ascending")):((l=g.element)==null||l.classList.remove("dt-ascending"),(C=g.element)==null||C.classList.remove("dt-descending"))}let e=Object.values(t(this,m)).filter(p=>p.visible).slice(-1)[0];e&&(e.element.style.width="")},ct=function(){if(t(this,L).innerHTML="",t(this,v).length)if(t(this,O))try{t(this,O).rowCount=t(this,v).length}catch(e){e instanceof it&&(console.warn("Failed to start virtual scroll... falling back to standard rendering"),console.warn(e.stack))}else{if(t(this,v).length>Ut){let r=Ut.toLocaleString();console.warn(`Virtual scroll disabled with more than ${r} rows... Good luck with that!`)}let e=t(this,v).map((r,s)=>c(this,d,_t).call(this,s));t(this,L).append(...e)}else t(this,_).length===0?this.showMessage(t(this,Ct),"dt-empty"):this.showMessage(t(this,pt),"dt-empty")},Gt=function(e,r,s,i){typeof s.valueFormatter=="function"&&(r=s.valueFormatter(r,i)),e.innerText=r==null?"-":r,typeof s.elementFormatter=="function"&&s.elementFormatter(r,i,e),t(this,ft)&&t(this,M)&&t(this,M)!=""&&s.searchable&&(e.innerHTML=e.innerText.replace(new RegExp(t(this,M),"i"),o=>`<mark>${o}</mark>`)),e.hidden=!s.visible},_t=function(e){let r=t(this,v)[e],s=document.createElement("tr");s.classList.add(...$(t(this,R).tr)),s.dataset.dtIndex=String(e);for(let i of Object.keys(t(this,m))){let o=c(this,d,ut).call(this,r,i),u=t(this,m)[i],l=document.createElement("td");l.classList.add(...$(t(this,R).td)),l.dataset.dtField=i,c(this,d,Gt).call(this,l,o,u,r),s.append(l)}return typeof t(this,tt)=="function"&&t(this,tt).call(this,r,s),s},ut=function(e,r){let s=r.split("."),i=e;for(let o of s)if(i&&typeof i=="object")i=i[o];else return;return i},Lt=new WeakMap,bt=new WeakMap,wt=new WeakMap,Tt=new WeakMap,Dt=new WeakMap,St=new WeakMap,Ot=new WeakMap,Ft=new WeakMap,xt=new WeakMap,Ht=new WeakMap,D.Events={ROW_CLICK:"dt.row.click",ROWS_CHANGED:"dt.rows.changed",COL_HIDE:"dt.col.hide",COL_SHOW:"dt.col.show",COL_SORT:"dt.col.sort",COL_RESIZE:"dt.col.resize",COL_REARRANGE:"dt.col.rearrange"},D.DEFAULT_OPTIONS={virtualScroll:!0,highlightSearch:!0,sortable:!0,searchable:!1,tokenize:!1,resizable:!0,rearrangeable:!0,extraSearchFields:[],noDataText:"No records found",noMatchText:"No matching records found",classes:{scroller:"dt-scroller",thead:"dt-headers",tbody:"",tfoot:"",tr:"",th:"",td:""},tokenizer:qt};var Z=D,Ut=1e4;var q,B,T,Kt=class{constructor(e,r,s){n(this,q);n(this,B);n(this,T,{saveColumnSorting:!0,saveColumnVisibility:!0,saveColumnWidth:!0,saveColumnOrder:!0});a(this,q,e),a(this,B,r),a(this,T,K(K({},t(this,T)),s)),this.restoreState();let i=e.table;t(this,T).saveColumnSorting&&i.addEventListener(Z.Events.COL_SORT,()=>this.saveState()),t(this,T).saveColumnVisibility&&(i.addEventListener(Z.Events.COL_HIDE,()=>this.saveState()),i.addEventListener(Z.Events.COL_SHOW,()=>this.saveState())),t(this,T).saveColumnWidth&&i.addEventListener(Z.Events.COL_RESIZE,()=>this.saveState()),t(this,T).saveColumnOrder&&i.addEventListener(Z.Events.COL_REARRANGE,()=>this.saveState())}saveState(){let e=t(this,q).columnStates;for(let r of e)t(this,T).saveColumnSorting||(r.sortOrder=void 0,r.sortPriority=void 0),t(this,T).saveColumnVisibility||(r.visible=void 0),t(this,T).saveColumnWidth||(r.width=void 0);localStorage.setItem(t(this,B),JSON.stringify(t(this,q).columnStates))}restoreState(){let e=localStorage.getItem(t(this,B));if(e)try{let r=JSON.parse(e);t(this,q).columnStates=r,t(this,T).saveColumnOrder&&t(this,q).setColumnOrder(r.map(s=>s.field))}catch(r){console.error("Failed to restore DataTable state:",r)}}clearState(){localStorage.removeItem(t(this,B))}};q=new WeakMap,B=new WeakMap,T=new WeakMap;export{Z as DataTable,Kt as LocalStorageAdapter};
//# sourceMappingURL=datatable.mjs.map